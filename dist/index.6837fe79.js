const $=window.$,$siteList=$(".siteList"),$last=$siteList.find("li.last"),$input=$(".searchWrapper>input"),dataString=localStorage.getItem("nav-list"),data=JSON.parse(dataString),hashMap=data||[{logo:"A",url:"https://www.acfun.cn",count:0},{logo:"B",url:"https://www.bilibili.com",count:0}],simplefyUrl=o=>o.replace("https://","").replace("http://","").replace("www.","").replace(/\/.*/,""),render=()=>{console.log(hashMap),console.log(hashMap instanceof Array),hashMap.sort(((o,s)=>s.count-o.count)),console.log(hashMap),$siteList.find("li:not(.last)").remove(),hashMap.forEach(((o,s)=>{const n=$(`\n            <li>\n            <div class="site">\n                <div class="logo">${o.logo}</div>\n                <div class="link">${simplefyUrl(o.url)}</div>\n                <div class="close">\n                    <svg class="icon">\n                        <use xlink:href="#icon-close"></use>\n                    </svg>\n                </div>\n            </div>\n        </li>\n        `).insertBefore($last);n.on("click",(()=>{o.count+=1,window.open(o.url)})),n.on("click",".close",(o=>{o.stopPropagation(),hashMap.splice(s,1),render()}))}))};render(),$(".addButton").on("click",(()=>{let o=window.prompt("请输入你要添加的网址");0!==o.indexOf("http")&&(o="https://"+o),console.log(o),hashMap.push({logo:simplefyUrl(o)[0].toUpperCase(),url:o,count:0}),console.log(hashMap),render()})),window.onbeforeunload=()=>{const o=JSON.stringify(hashMap);localStorage.setItem("nav-list",o)},$(document).on("keypress",(o=>{if($input.is(":focus"))return;const{key:s}=o,n=(hashMap||[]).find((o=>o.logo.toUpperCase()===s));n&&(n.count+=1,window.open(n.url))}));
//# sourceMappingURL=index.6837fe79.js.map
